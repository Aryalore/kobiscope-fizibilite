<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KobiScope: Teknik Analiz ve Fizibilite Raporu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts: Inter for UI, Roboto Mono for Data -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Slate-50 */
            color: #334155; /* Slate-700 */
        }
        
        .font-mono { font-family: 'Roboto Mono', monospace; }

        /* Sidebar Styling */
        .sidebar-link {
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        .sidebar-link:hover {
            background-color: #e2e8f0;
            color: #0f172a;
        }
        .sidebar-link.active {
            background-color: #cbd5e1;
            border-left-color: #0369a1; /* Sky-700 */
            color: #0c4a6e; /* Sky-900 */
            font-weight: 600;
        }

        /* Card & Chart Styling */
        .card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
            max-width: 100%;
        }

        /* Animations */
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Interactive Elements */
        .tech-pill {
            transition: all 0.2s;
        }
        .tech-pill:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="flex h-screen overflow-hidden text-sm md:text-base">

    <!-- SIDEBAR -->
    <aside class="w-64 bg-white border-r border-slate-200 flex-col hidden md:flex z-10">
        <div class="p-6 border-b border-slate-100">
            <div class="flex items-center gap-2 text-sky-800 font-bold text-xl tracking-tight">
                <div class="w-8 h-8 bg-sky-700 rounded flex items-center justify-center text-white shadow-sm">K</div>
                KobiScope
            </div>
            <div class="mt-2 text-[10px] text-slate-400 font-mono uppercase tracking-wider">
                Teknik Fizibilite Raporu
                <br>Ver: 2.0.4 (Stable)
            </div>
        </div>
        
        <nav class="flex-1 overflow-y-auto py-4 space-y-1">
            <a href="#" onclick="showSection('ozet')" class="sidebar-link active flex items-center px-6 py-3 text-slate-600">
                <span class="w-5 mr-3">ğŸ“Š</span> YÃ¶netici Ã–zeti
            </a>
            <a href="#" onclick="showSection('teknoloji')" class="sidebar-link flex items-center px-6 py-3 text-slate-600">
                <span class="w-5 mr-3">ğŸ§¬</span> Hibrit Mimari
            </a>
            <a href="#" onclick="showSection('simulasyon')" class="sidebar-link flex items-center px-6 py-3 text-slate-600">
                <span class="w-5 mr-3">âš¡</span> Algoritmik Test
            </a>
            <a href="#" onclick="showSection('sektor')" class="sidebar-link flex items-center px-6 py-3 text-slate-600">
                <span class="w-5 mr-3">ğŸ­</span> SektÃ¶rel KullanÄ±m
            </a>
        </nav>

        <div class="p-4 border-t border-slate-100 bg-slate-50">
            <div class="flex items-center gap-3">
                <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                <span class="text-xs text-slate-500 font-medium">Sistem HazÄ±r</span>
            </div>
            <p class="text-[10px] text-slate-400 mt-1">Son GÃ¼ncelleme: <span id="lastUpdate"></span></p>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-y-auto bg-slate-50 p-4 md:p-8 relative">
        <!-- Top Bar for Mobile -->
        <div class="md:hidden mb-4 flex justify-between items-center bg-white p-4 rounded shadow border border-slate-200">
            <span class="font-bold text-sky-800">KobiScope Rapor</span>
            <select onchange="showSection(this.value)" class="bg-slate-100 border-none text-sm p-1 rounded">
                <option value="ozet">Ã–zet</option>
                <option value="teknoloji">Teknoloji</option>
                <option value="simulasyon">SimÃ¼lasyon</option>
                <option value="sektor">SektÃ¶r</option>
            </select>
        </div>

        <!-- 1. YÃ–NETÄ°CÄ° Ã–ZETÄ° -->
        <section id="ozet" class="fade-in max-w-6xl mx-auto space-y-6">
            <header class="flex justify-between items-end border-b border-slate-200 pb-4">
                <div>
                    <h1 class="text-2xl font-bold text-slate-800">Stratejik Fizibilite ve Pazar Analizi</h1>
                    <p class="text-slate-500 mt-1">KobiScope Projesi: Pazar BoÅŸluÄŸu ve Teknik Yeterlilik DeÄŸerlendirmesi</p>
                </div>
                <div class="hidden md:block">
                    <span class="bg-emerald-100 text-emerald-700 px-4 py-1.5 rounded text-xs font-bold border border-emerald-200 tracking-wide uppercase">Durum: YÃ¼ksek Potansiyel</span>
                </div>
            </header>

            <!-- KPI Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="card p-4 border-t-4 border-t-sky-500">
                    <div class="text-slate-400 text-[10px] font-bold uppercase mb-1">Hedef Pazar</div>
                    <div class="text-xl font-bold text-slate-800">KOBÄ° & Perakende</div>
                    <p class="text-xs text-slate-500 mt-1">Blue Ocean Stratejisi</p>
                </div>
                <div class="card p-4 border-t-4 border-t-indigo-500">
                    <div class="text-slate-400 text-[10px] font-bold uppercase mb-1">Teknik Mimari</div>
                    <div class="text-xl font-bold text-slate-800">Hibrit Ensemble</div>
                    <p class="text-xs text-slate-500 mt-1">Croston + XGBoost + Prophet</p>
                </div>
                <div class="card p-4 border-t-4 border-t-emerald-500">
                    <div class="text-slate-400 text-[10px] font-bold uppercase mb-1">Rekabet AvantajÄ±</div>
                    <div class="text-xl font-bold text-slate-800">Oto-SeÃ§im (AutoML)</div>
                    <p class="text-xs text-slate-500 mt-1">Veri tipine dinamik adaptasyon</p>
                </div>
                <div class="card p-4 border-t-4 border-t-orange-500">
                    <div class="text-slate-400 text-[10px] font-bold uppercase mb-1">ROI Beklentisi</div>
                    <div class="text-xl font-bold text-slate-800">%25 - %40</div>
                    <p class="text-xs text-slate-500 mt-1">Stok maliyeti optimizasyonu</p>
                </div>
            </div>

            <!-- Content Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Market Analysis Text -->
                <div class="lg:col-span-1 space-y-4">
                    <div class="card p-5 h-full">
                        <h3 class="font-bold text-slate-800 mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                            Pazar KonumlandÄ±rmasÄ±
                        </h3>
                        <p class="text-sm text-slate-600 leading-relaxed mb-4">
                            Mevcut yerli ERP pazarÄ±, <strong>finansal muhasebe</strong> odaklÄ±dÄ±r. Ä°leri seviye stok yÃ¶netimi (Inventory Optimization) modÃ¼lleri ya yoktur ya da Ã§ok pahalÄ± global ERP'lerin tekelindedir.
                        </p>
                        <p class="text-sm text-slate-600 leading-relaxed">
                            KobiScope; istatistiksel modelleri (Croston) modern ML (XGBoost) ile birleÅŸtirerek, "EriÅŸilebilir YÃ¼ksek Teknoloji" boÅŸluÄŸunu doldurmaktadÄ±r.
                        </p>
                    </div>
                </div>

                <!-- Market Gap Chart -->
                <div class="lg:col-span-2 card p-5">
                    <h3 class="font-bold text-slate-800 mb-2 text-sm">Rekabet Matrisi: Yetenek vs. Maliyet</h3>
                    <div class="chart-container" style="height: 280px;">
                        <canvas id="marketGapChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. TEKNOLOJÄ° MATRÄ°SÄ° -->
        <section id="teknoloji" class="hidden fade-in max-w-6xl mx-auto space-y-6">
            <header class="border-b border-slate-200 pb-4">
                <h1 class="text-2xl font-bold text-slate-800">Teknik Mimari Analizi</h1>
                <p class="text-slate-500 mt-1">Algoritma Yetkinlik Matrisi ve Entegrasyon YapÄ±sÄ±</p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 card p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-slate-700">Algoritma Performans Radar DiyagramÄ±</h4>
                        <span class="text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded">CanlÄ± Metrikler</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <div class="card p-4 hover:border-emerald-400 cursor-pointer transition border-l-4 border-l-emerald-500 group" onclick="updateRadar('stat')">
                        <h4 class="font-bold text-slate-800 text-sm group-hover:text-emerald-700">1. Ä°statistiksel Modeller</h4>
                        <div class="flex flex-wrap gap-2 mt-2 mb-2">
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">Croston</span>
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">TSB</span>
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">Holt-Winters</span>
                        </div>
                        <p class="text-xs text-slate-500">
                            <strong>KullanÄ±m AlanÄ±:</strong> Seyrek (Intermittent) veriler.
                            <br>ML modellerinin "sÄ±fÄ±r" deÄŸerlerinde aÅŸÄ±rÄ± Ã¶ÄŸrenme (overfitting) hatasÄ±nÄ± elimine eder.
                        </p>
                    </div>

                    <div class="card p-4 hover:border-sky-400 cursor-pointer transition border-l-4 border-l-sky-500 group" onclick="updateRadar('prophet')">
                        <h4 class="font-bold text-slate-800 text-sm group-hover:text-sky-700">2. Facebook Prophet</h4>
                        <div class="flex flex-wrap gap-2 mt-2 mb-2">
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">Mevsimsellik</span>
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">Tatil Etkisi</span>
                        </div>
                        <p class="text-xs text-slate-500">
                            <strong>KullanÄ±m AlanÄ±:</strong> GÃ¼Ã§lÃ¼ mevsimsel dÃ¶ngÃ¼ler.
                            <br>Bayramlar, sÃ¶mestr gibi takvimsel olaylarÄ± modele dahil eder.
                        </p>
                    </div>

                    <div class="card p-4 hover:border-purple-400 cursor-pointer transition border-l-4 border-l-purple-500 group" onclick="updateRadar('ml')">
                        <h4 class="font-bold text-slate-800 text-sm group-hover:text-purple-700">3. Ensemble Learning (ML)</h4>
                        <div class="flex flex-wrap gap-2 mt-2 mb-2">
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">XGBoost</span>
                            <span class="bg-slate-100 text-slate-600 text-[10px] px-2 py-1 rounded border border-slate-200">Random Forest</span>
                        </div>
                        <p class="text-xs text-slate-500">
                            <strong>KullanÄ±m AlanÄ±:</strong> KarmaÅŸÄ±k, Ã§ok deÄŸiÅŸkenli veriler.
                            <br>Fiyat, stok, rakip verisi gibi dÄ±ÅŸ faktÃ¶rlerle (regressors) Ã§alÄ±ÅŸÄ±r.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. SÄ°MÃœLASYON TESTÄ° -->
        <section id="simulasyon" class="hidden fade-in max-w-6xl mx-auto space-y-6">
            <header class="flex flex-col md:flex-row justify-between items-center border-b border-slate-200 pb-4">
                <div>
                    <h1 class="text-2xl font-bold text-slate-800">Algoritmik Karar Destek Sistemi</h1>
                    <p class="text-slate-500 mt-1">Veri KarakteristiÄŸine GÃ¶re Otomatik Model SeÃ§imi (Auto-Selection Logic)</p>
                </div>
                <div class="flex gap-3 mt-4 md:mt-0 bg-white p-2 rounded-lg shadow-sm border border-slate-200">
                    <select id="simType" class="bg-transparent text-sm font-medium text-slate-700 focus:outline-none cursor-pointer">
                        <option value="seasonal">Senaryo A: Mevsimsel Talep</option>
                        <option value="intermittent">Senaryo B: Seyrek (Yedek ParÃ§a)</option>
                        <option value="trend">Senaryo C: Trend (Moda/Tech)</option>
                    </select>
                    <button onclick="runSimulation()" class="bg-sky-700 hover:bg-sky-800 text-white px-4 py-1.5 rounded text-xs font-bold shadow transition flex items-center">
                        Analizi BaÅŸlat
                    </button>
                </div>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <!-- Chart Area -->
                <div class="lg:col-span-8 card p-2">
                    <div class="chart-container">
                        <canvas id="simChart"></canvas>
                    </div>
                </div>

                <!-- Live Analysis Panel -->
                <div class="lg:col-span-4 flex flex-col gap-4">
                    <!-- Scoreboard -->
                    <div class="card p-4 bg-slate-50 h-1/2">
                        <h5 class="text-[10px] font-bold text-slate-400 uppercase mb-3 border-b border-slate-200 pb-2 tracking-wider">RMSE Performans Metrikleri</h5>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-600 flex items-center"><span class="w-2 h-2 rounded-full bg-sky-500 mr-2"></span>Prophet</span>
                                <span id="scoreProphet" class="font-mono font-bold text-slate-800 bg-white px-2 py-0.5 rounded border border-slate-200">-</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-600 flex items-center"><span class="w-2 h-2 rounded-full bg-purple-500 mr-2"></span>XGBoost</span>
                                <span id="scoreXGB" class="font-mono font-bold text-slate-800 bg-white px-2 py-0.5 rounded border border-slate-200">-</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-600 flex items-center"><span class="w-2 h-2 rounded-full bg-emerald-500 mr-2"></span>Croston</span>
                                <span id="scoreCroston" class="font-mono font-bold text-slate-800 bg-white px-2 py-0.5 rounded border border-slate-200">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- System Decision Box -->
                    <div class="card p-5 h-1/2 flex flex-col justify-center border-l-4 border-l-slate-300 transition-colors duration-500" id="decisionBox">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="w-2 h-2 rounded-full bg-slate-400" id="decisionLight"></div>
                            <h5 class="text-xs font-bold text-slate-500 uppercase tracking-wider">Sistem KararÄ±</h5>
                        </div>
                        <h3 id="winnerText" class="text-lg font-bold text-slate-800 mb-2">Bekleniyor...</h3>
                        <p id="decisionText" class="text-xs text-slate-600 leading-snug">
                            LÃ¼tfen yukarÄ±dan bir senaryo seÃ§ip analizi baÅŸlatÄ±n.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. SEKTÃ–REL UYUMLULUK -->
        <section id="sektor" class="hidden fade-in max-w-6xl mx-auto space-y-6">
            <header class="border-b border-slate-200 pb-4">
                <h1 class="text-2xl font-bold text-slate-800">SektÃ¶rel Entegrasyon Matrisi</h1>
                <p class="text-slate-500 mt-1">FarklÄ± endÃ¼striyel senaryolarda KobiScope deÄŸer Ã¶nerisi</p>
            </header>

            <div class="card p-6 bg-white min-h-[400px]">
                <div class="flex flex-col md:flex-row gap-4 items-center mb-8 bg-slate-50 p-4 rounded-lg border border-slate-100">
                    <label class="font-bold text-slate-700 text-sm">Hedef SektÃ¶r SeÃ§imi:</label>
                    <select id="sectorSelect" onchange="renderSectorCard()" class="flex-1 bg-white border border-slate-300 rounded px-4 py-2 text-sm focus:ring-2 focus:ring-sky-500 outline-none shadow-sm cursor-pointer">
                        <option value="default" disabled selected>LÃ¼tfen analiz edilecek sektÃ¶rÃ¼ seÃ§iniz...</option>
                        <option value="auto">Otomotiv Yedek ParÃ§a & Sanayi</option>
                        <option value="textile">HazÄ±r Giyim, Moda & Perakende</option>
                        <option value="fmcg">HÄ±zlÄ± TÃ¼ketim & SÃ¼permarket</option>
                        <option value="electronics">TÃ¼ketici ElektroniÄŸi & Teknoloji</option>
                    </select>
                </div>

                <!-- Dynamic Sector Card -->
                <div id="sectorCardContent" class="hidden animate-fade-in">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
                        <div class="space-y-6">
                            <div>
                                <h2 class="text-2xl font-bold text-sky-900 flex items-center" id="secTitle">SektÃ¶r BaÅŸlÄ±ÄŸÄ±</h2>
                                <div class="h-1 w-20 bg-sky-500 mt-2 rounded"></div>
                            </div>
                            
                            <div class="bg-rose-50 p-4 rounded-lg border border-rose-100">
                                <h4 class="text-xs font-bold text-rose-600 uppercase tracking-wide mb-2 flex items-center">
                                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                                    Kritik AÄŸrÄ± NoktasÄ± (Pain Point)
                                </h4>
                                <p class="text-slate-800 text-sm font-medium leading-relaxed" id="secPain">Problem tanÄ±mÄ±...</p>
                            </div>

                            <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100">
                                <h4 class="text-xs font-bold text-emerald-600 uppercase tracking-wide mb-2 flex items-center">
                                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    KobiScope Ã‡Ã¶zÃ¼m Mimarisi
                                </h4>
                                <p class="text-slate-800 text-sm font-medium leading-relaxed" id="secSolution">Ã‡Ã¶zÃ¼m tanÄ±mÄ±...</p>
                            </div>
                        </div>

                        <div class="bg-slate-50 rounded-xl p-6 border border-slate-200 shadow-sm flex flex-col justify-center">
                            <h4 class="text-sm font-bold text-slate-800 mb-4 pb-2 border-b border-slate-200">Teknik KonfigÃ¼rasyon Ã–nerisi</h4>
                            <ul class="space-y-4 text-sm text-slate-600">
                                <li class="flex items-start">
                                    <span class="w-6 h-6 rounded-full bg-sky-100 text-sky-600 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">1</span>
                                    <div>
                                        <span class="block text-xs font-bold text-slate-400 uppercase">Ã–nerilen Algoritma</span>
                                        <span id="secAlgo" class="font-semibold text-slate-800">Algoritma AdÄ±</span>
                                    </div>
                                </li>
                                <li class="flex items-start">
                                    <span class="w-6 h-6 rounded-full bg-sky-100 text-sky-600 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">2</span>
                                    <div>
                                        <span class="block text-xs font-bold text-slate-400 uppercase">Tahminleme FrekansÄ±</span>
                                        <span id="secFreq" class="font-semibold text-slate-800">HaftalÄ±k</span>
                                    </div>
                                </li>
                                <li class="flex items-start">
                                    <span class="w-6 h-6 rounded-full bg-sky-100 text-sky-600 flex items-center justify-center text-xs font-bold mr-3 mt-0.5">3</span>
                                    <div>
                                        <span class="block text-xs font-bold text-slate-400 uppercase">Tahmini ROI</span>
                                        <span id="secRoi" class="font-bold text-emerald-600">%20 Ä°yileÅŸme</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Default State -->
                <div id="sectorPlaceholder" class="text-center py-20">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-100 text-slate-300 mb-4">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                    </div>
                    <p class="text-slate-400 text-sm">Analiz raporunu gÃ¶rÃ¼ntÃ¼lemek iÃ§in yukarÄ±daki menÃ¼den sektÃ¶r seÃ§iniz.</p>
                </div>
            </div>
        </section>

    </main>

    <script>
        // --- 1. Navigation & Config ---
        document.getElementById('lastUpdate').innerText = new Date().toLocaleDateString('tr-TR');

        function showSection(id) {
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
            document.getElementById(id).classList.remove('hidden');
            
            // Sidebar syncing
            const links = document.querySelectorAll('.sidebar-link');
            const map = {'ozet':0, 'teknoloji':1, 'simulasyon':2, 'sektor':3};
            if(links[map[id]]) links[map[id]].classList.add('active');
        }

        // --- 2. Charts Initialization ---
        
        // Market Gap Bubble Chart
        const ctxMarket = document.getElementById('marketGapChart').getContext('2d');
        new Chart(ctxMarket, {
            type: 'bubble',
            data: {
                datasets: [
                    {
                        label: 'KobiScope (Hedef Konum)',
                        data: [{x: 85, y: 88, r: 18}], 
                        backgroundColor: 'rgba(14, 165, 233, 0.9)' // Sky-500
                    },
                    {
                        label: 'Excel / Manuel Takip',
                        data: [{x: 15, y: 25, r: 12}], 
                        backgroundColor: 'rgba(148, 163, 184, 0.6)' // Slate-400
                    },
                    {
                        label: 'Global ERP Sistemleri',
                        data: [{x: 90, y: 20, r: 14}], // High Tech, Low Affordability (High Cost)
                        backgroundColor: 'rgba(239, 68, 68, 0.6)' // Red-500
                    },
                    {
                        label: 'Standart Muhasebe YazÄ±lÄ±mlarÄ±',
                        data: [{x: 45, y: 65, r: 10}], 
                        backgroundColor: 'rgba(245, 158, 11, 0.6)' // Amber-500
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { 
                        title: { display: true, text: 'Teknolojik Kabiliyet (AI & Otomasyon)' },
                        min: 0, max: 100,
                        grid: { color: '#f1f5f9' }
                    },
                    y: { 
                        title: { display: true, text: 'Fiyat AvantajÄ± & EriÅŸilebilirlik' },
                        min: 0, max: 100,
                        grid: { color: '#f1f5f9' }
                    }
                },
                plugins: {
                    legend: { position: 'bottom', labels: { usePointStyle: true, padding: 20 } },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label;
                            }
                        }
                    }
                }
            }
        });

        // Tech Radar Chart
        const ctxRadar = document.getElementById('radarChart').getContext('2d');
        const radarChart = new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: ['Veri Ekonomisi', 'Hesaplama HÄ±zÄ±', 'Trend Yakalama', 'Mevsimsellik', 'DÄ±ÅŸ DeÄŸiÅŸkenler', 'Seyrek Veri BaÅŸarÄ±sÄ±'],
                datasets: [{
                    label: 'SeÃ§ili Teknoloji Profili',
                    data: [80, 90, 40, 40, 20, 95], // Default Stat
                    backgroundColor: 'rgba(14, 165, 233, 0.2)',
                    borderColor: '#0ea5e9',
                    pointBackgroundColor: '#0ea5e9',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#0ea5e9'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        suggestedMin: 0, suggestedMax: 100,
                        angleLines: { color: '#e2e8f0' },
                        grid: { color: '#e2e8f0' },
                        pointLabels: { font: { size: 11, family: 'Inter' }, color: '#64748b' }
                    }
                },
                plugins: { legend: { display: false } }
            }
        });

        function updateRadar(type) {
            let data = [];
            let color = '';
            if(type === 'stat') {
                data = [95, 95, 30, 40, 10, 95];
                color = '#10b981'; // Emerald
            }
            else if(type === 'prophet') {
                data = [60, 70, 90, 95, 40, 20];
                color = '#0ea5e9'; // Sky
            }
            else if(type === 'ml') {
                data = [20, 40, 80, 80, 95, 40];
                color = '#a855f7'; // Purple
            }
            
            radarChart.data.datasets[0].data = data;
            radarChart.data.datasets[0].borderColor = color;
            radarChart.data.datasets[0].pointBackgroundColor = color;
            radarChart.data.datasets[0].backgroundColor = color + '33'; // Add transparency
            radarChart.update();
        }

        // --- 3. Simulation Logic (Hardcoded Logic) ---
        const ctxSim = document.getElementById('simChart').getContext('2d');
        const simChart = new Chart(ctxSim, {
            type: 'line',
            data: { labels: [], datasets: [] },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: { mode: 'index', intersect: false },
                plugins: { 
                    tooltip: { mode: 'index' },
                    legend: { position: 'top', labels: { usePointStyle: true } }
                },
                scales: { 
                    x: { display: false },
                    y: { grid: { color: '#f1f5f9' } }
                }
            }
        });

        function runSimulation() {
            const type = document.getElementById('simType').value;
            const btn = document.querySelector('button[onclick="runSimulation()"]');
            const box = document.getElementById('decisionBox');
            const light = document.getElementById('decisionLight');
            const text = document.getElementById('decisionText');
            const winnerTitle = document.getElementById('winnerText');
            
            // Loading UI
            btn.disabled = true;
            btn.classList.add('opacity-75', 'cursor-not-allowed');
            btn.innerHTML = 'HesaplanÄ±yor...';
            
            box.className = 'card p-5 h-1/2 flex flex-col justify-center border-l-4 border-l-slate-300';
            light.className = 'w-2 h-2 rounded-full bg-amber-400 animate-ping';
            winnerTitle.innerText = "Model SeÃ§iliyor...";
            text.innerText = "Backtesting algoritmalarÄ± Ã§alÄ±ÅŸtÄ±rÄ±lÄ±yor...";

            // Data Generation
            const days = 30;
            const labels = Array.from({length: days}, (_, i) => `T-${i}`);
            let actual=[], prophet=[], xgb=[], croston=[];
            
            // Hardcoded "Realistic" Patterns based on selection
            for(let i=0; i<days; i++) {
                let val = 100;
                let noise = (Math.random()-0.5) * 10;
                
                if(type === 'seasonal') {
                    // Sine wave pattern
                    val += Math.sin(i/2.5) * 60; 
                    actual.push(val + noise);
                    prophet.push(val + (Math.random()-0.5)*15); // Winner
                    xgb.push(val + (Math.random()-0.5)*50); // High Error
                    croston.push(100); // Flat line (Fail)
                } else if(type === 'trend') {
                    // Upward Trend
                    val += i * 5 + (i > 15 ? 30 : 0); // Jump
                    actual.push(val + noise);
                    prophet.push(val + (Math.random()-0.5)*40); // Slower adaptation
                    xgb.push(val + (Math.random()-0.5)*12); // Winner (Catches jump)
                    croston.push(100 + (i*2)); // Lagging
                } else {
                    // Intermittent (Zeros)
                    val = Math.random() > 0.75 ? 120 + noise*5 : 0;
                    actual.push(val);
                    prophet.push(val === 0 ? 45 : 130); // Fails on zeros
                    xgb.push(val === 0 ? 25 : 100);
                    croston.push(val === 0 ? 0 : val + noise); // Winner (Handles zeros)
                }
            }

            setTimeout(() => {
                // Update Chart
                simChart.data.labels = labels;
                simChart.data.datasets = [
                    { label: 'GerÃ§ekleÅŸen Talep', data: actual, borderColor: '#1e293b', borderDash:[5,5], borderWidth: 2, pointRadius:0, tension:0.1 },
                    { label: 'Prophet', data: prophet, borderColor: '#0ea5e9', borderWidth: 1.5, pointRadius:0 },
                    { label: 'XGBoost', data: xgb, borderColor: '#a855f7', borderWidth: 1.5, pointRadius:0 },
                    { label: 'Croston', data: croston, borderColor: '#10b981', borderWidth: 1.5, pointRadius:0 }
                ];
                simChart.update();

                // Logic & Content
                let sP, sX, sC, winnerName, winnerDesc, borderClass;
                
                if(type === 'seasonal') {
                    sP = "12.4"; sX = "45.2"; sC = "88.1"; 
                    winnerName = 'Prophet';
                    winnerDesc = "Mevsimsellik bileÅŸeni baskÄ±n. Prophet modeli, dÃ¶nemsel dalgalanmalarÄ± %92 doÄŸrulukla yakalayarak en dÃ¼ÅŸÃ¼k hata skorunu (RMSE) Ã¼retti.";
                    borderClass = 'border-l-sky-500';
                } else if(type === 'trend') {
                    sP = "25.3"; sX = "8.7"; sC = "56.4"; 
                    winnerName = 'XGBoost';
                    winnerDesc = "DoÄŸrusal olmayan trend deÄŸiÅŸimi tespit edildi. XGBoost (Gradient Boosting), yapÄ±sal kÄ±rÄ±lmayÄ± en hÄ±zlÄ± adapte olan model oldu.";
                    borderClass = 'border-l-purple-500';
                } else {
                    sP = "140.2"; sX = "65.8"; sC = "5.1"; 
                    winnerName = 'Croston';
                    winnerDesc = "Veri seti 'Intermittent' (Kesikli). Geleneksel modellerin aksine, Croston algoritmasÄ± sÄ±fÄ±r deÄŸerli gÃ¼nleri doÄŸru yÃ¶neterek stok ÅŸiÅŸmesini engelledi.";
                    borderClass = 'border-l-emerald-500';
                }

                // Update UI
                document.getElementById('scoreProphet').innerText = sP;
                document.getElementById('scoreXGB').innerText = sX;
                document.getElementById('scoreCroston').innerText = sC;
                
                light.className = 'w-2 h-2 rounded-full bg-emerald-500';
                winnerTitle.innerText = winnerName + " SeÃ§ildi";
                text.innerText = winnerDesc;
                box.className = `card p-5 h-1/2 flex flex-col justify-center border-l-4 transition-colors duration-500 ${borderClass} bg-slate-50`;

                // Reset Button
                btn.disabled = false;
                btn.classList.remove('opacity-75', 'cursor-not-allowed');
                btn.innerHTML = 'Analizi BaÅŸlat';

            }, 1200);
        }

        // --- 4. Sector Logic (Knowledge Base) ---
        const sectorData = {
            'auto': {
                title: 'Otomotiv Yedek ParÃ§a',
                pain: 'On binlerce SKU var ve Ã§oÄŸu yÄ±lda sadece birkaÃ§ kez satÄ±lÄ±yor. YanlÄ±ÅŸ stoklama sermayeyi "Ã¶lÃ¼ stok"a gÃ¶mÃ¼yor.',
                solution: 'KobiScope, kesikli talep (Intermittent Demand) modellerini devreye alarak, nadir satÄ±lan parÃ§alar iÃ§in sadece gerektiÄŸinde sipariÅŸ aÃ§ar.',
                algo: 'Croston / TSB AlgoritmasÄ±',
                freq: 'AylÄ±k GÃ¶zden GeÃ§irme',
                roi: '%35 Stok Maliyeti DÃ¼ÅŸÃ¼ÅŸÃ¼'
            },
            'textile': {
                title: 'HazÄ±r Giyim & Moda',
                pain: 'ÃœrÃ¼n Ã¶mrÃ¼ Ã§ok kÄ±sa (Sezonluk). Renk/Beden kÄ±rÄ±lÄ±mÄ±nda talep tahmini yapmak zor. Trend kaÃ§arsa Ã¼rÃ¼n elde kalÄ±r.',
                solution: 'GeÃ§miÅŸ sezon verilerini yeni Ã¼rÃ¼n Ã¶zellikleriyle eÅŸleÅŸtirir. XGBoost ve Prophet kombinasyonu ile trendin yÃ¶nÃ¼nÃ¼ erken tespit eder.',
                algo: 'Hibrit (XGBoost + Prophet)',
                freq: 'HaftalÄ±k Dinamik Planlama',
                roi: '%15 Ciro ArtÄ±ÅŸÄ± (Yok SatmayÄ± Ã–nleme)'
            },
            'fmcg': {
                title: 'HÄ±zlÄ± TÃ¼ketim (FMCG)',
                pain: 'Raf Ã¶mrÃ¼ kritik. Stok sayÄ±mÄ± manuel yapÄ±ldÄ±ÄŸÄ± iÃ§in hatalÄ±. Promosyon dÃ¶nemlerinde talep patlamasÄ± tahmin edilemiyor.',
                solution: 'GÃ¶rÃ¼ntÃ¼ Ä°ÅŸleme modÃ¼lÃ¼ ile raflar otomatik sayÄ±lÄ±r. Random Forest modeli, promosyonlarÄ±n satÄ±ÅŸa etkisini hesaplar.',
                algo: 'Random Forest (Regresyon)',
                freq: 'GÃ¼nlÃ¼k SipariÅŸ Ã–nerisi',
                roi: '%50 Operasyonel Ä°ÅŸgÃ¼cÃ¼ Tasarrufu'
            },
            'electronics': {
                title: 'TÃ¼ketici ElektroniÄŸi',
                pain: 'Teknoloji hÄ±zla eskiyor. Kur deÄŸiÅŸimleri ve rakip fiyatlarÄ± talebi anlÄ±k etkiliyor.',
                solution: 'DÄ±ÅŸsal deÄŸiÅŸkenleri (DÃ¶viz kuru, Rakip FiyatÄ±) modele dahil edebilen Ã§ok deÄŸiÅŸkenli ML modelleri kullanÄ±r.',
                algo: 'Multivariate XGBoost',
                freq: 'AnlÄ±k/GÃ¼nlÃ¼k Fiyatlama DesteÄŸi',
                roi: '%12 Kar MarjÄ± Ä°yileÅŸtirmesi'
            }
        };

        function renderSectorCard() {
            const val = document.getElementById('sectorSelect').value;
            const card = document.getElementById('sectorCardContent');
            const placeholder = document.getElementById('sectorPlaceholder');
            
            if(val === 'default') return;

            const data = sectorData[val];
            
            // Populate
            document.getElementById('secTitle').innerText = data.title;
            document.getElementById('secPain').innerText = data.pain;
            document.getElementById('secSolution').innerText = data.solution;
            document.getElementById('secAlgo').innerText = data.algo;
            document.getElementById('secFreq').innerText = data.freq;
            document.getElementById('secRoi').innerText = data.roi;

            // Toggle
            placeholder.classList.add('hidden');
            card.classList.remove('hidden');
        }
    </script>
</body>
</html>
